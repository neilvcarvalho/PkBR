[script]
n0=alias xatacar {
n1=  if gym.* iswm %sbp.player2 && %sbp.vez == 2 {
n2=    var %bah.gym $remove( [ %sbp.player2 ] ,gym.)
n3=    var %bah.lider $readini(gym.ini,gyms, [ %bah.gym ] )
n4=    if $1 == %bah.lider { var %bah.nick %sbp.player2 }
n5=  }
n6=  else var %bah.nick $1
n7=  if %bah.nick == %sbp.player1 && %sbp.vez == 1 { var %poke $iif(%transform1 == sim, [ %poke2 ] , [ %poke1 ] ) | var %lvl %poke1level | var %pla 1 | var %opon 2 | var %disable %disable1 | var %tm %tm1 | var %sn %poke2sono }
n8=  elseif %bah.nick == %sbp.player2 && %sbp.vez == 2 { var %poke $iif(%transform2 == sim, [ %poke1 ] , [ %poke2 ] ) | var %lvl %poke2level | var %pla 2 | var %opon 1 | var %disable %disable2 | var %tm %tm2 | var %sn %poke1sono }
n9=  if %sbp.vez == %pla {
n10=    if $istok($golpes(%poke,%lvl),$strip($2-),32) || $istok(%tm,$strip($2-),32) || $strip($2) == pof! {
n11=      if %bah.nick == %sbp.player1 || %bah.nick == %sbp.player2  {
n12=        if $strip($2) == dream-eater { if %sn == $null || %sn < 1 { nc %chan %bah.nick Você não pode usar Dream-Eater agora, pois o oponente não está dormindo. | return } }
n13=        if $strip($2) == %disable [ $+ [ %pla ] ] { nc %chan $1 Golpe desabilitado. | return }
n14=        var %tipo $readini(ataques.ini,ataques,$strip($2))
n15=        if $chr(32) isin $strip($2-) { msg %chan Substitua os espaços por "-" | return }
n16=        :inicio
n17=        set %xtipo $readini(atktipos.ini,tipo,$strip($2))
n18=        set %tipo [ $+ [ %pla ] ] %tipo
n19=        if $strip($2) == pof! { poke $+ %pla $+ ataque pof }
n20=        set %ataques [ $+ [ %pla ] ] %ataques [ $+ [ %pla ] ] $strip($2)
n21=        if %tipo == ataqueinefetivo { poke $+ %pla $+ ataque inefetivo }
n22=        if %tipo == ataquesuave { poke $+ %pla $+ ataque comum }
n23=        if %tipo == ataquefraco { poke $+ %pla $+ ataque especial }
n24=        if %tipo == ataquemédio { poke $+ %pla $+ ataque critico }
n25=        if %tipo == ataqueforte { poke $+ %pla $+ ataque efetivo }
n26=        if %tipo == ataque+forte { poke $+ %pla $+ ataque superefetivo }
n27=        if %tipo == +defesa { poke $+ %pla $+ status def+ }
n28=        if %tipo == +ataque { poke $+ %pla $+ status ata+ }
n29=        if %tipo == +velocidade { poke $+ %pla $+ status vel+ }
n30=        if %tipo == -defesa { poke $+ %opon $+ status def- }
n31=        if %tipo == -ataque { poke $+ %opon $+ status ata- }
n32=        if %tipo == -acerto { poke $+ %opon $+ status acerto- }
n33=        if %tipo == -velocidade { poke $+ %opon $+ status vel- }
n34=        if %tipo == quick-attack { poke $+ %pla $+ ataque quick }
n35=        if %tipo == hyper-beam { poke $+ %pla $+ ataque hbeam }
n36=        if %tipo == sonic-boom { poke $+ %pla $+ ataque boom }
n37=        if %tipo == rest { if $xxxtok($strip($2),%pla) < 2 { poke $+ %pla $+ ataque rest } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n38=        if %tipo == transform { poke $+ %pla $+ ataque transform }
n39=        if %tipo == veneno { poke $+ %opon $+ status poison }
n40=        if %tipo == poison-gas { poke $+ %pla $+ ataque gas }
n41=        if %tipo == rage { poke $+ %pla $+ ataque rage }
n42=        if %tipo == horn-drill { xchecklevel %pla Hord-Drill | if $xxxtok($replace($strip($2),$chr(32),-),%pla) < 4 { poke $+ %pla $+ ataque mortal HornDrill } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n43=        if %tipo == whirlwind { xchecklevel %pla WirlWind | if $xxxtok($replace($strip($2),$chr(32),-),%pla) < 4 { poke $+ %pla $+ ataque mortal WhirlWind } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n44=        if %tipo == guilhotine { xchecklevel %pla Guilhotine | if $xxxtok($replace($strip($2),$chr(32),-),%pla) < 4 { poke $+ %pla $+ ataque mortal Guilhotine } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n45=        if %tipo == fissure { xchecklevel %pla Fissure | if $xxxtok($replace($strip($2),$chr(32),-),%pla) < 4 { poke $+ %pla $+ ataque mortal Fissure } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n46=        if %tipo == roar { xchecklevel %pla Roar | if $xxxtok($replace($strip($2),$chr(32),-),%pla) < 4 { poke $+ %pla $+ ataque mortal Roar } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n47=        if %tipo == metronome { poke $+ %pla $+ ataque metronome | var %tipo %metronome.tipo | unset %metronome.tipo | goto inicio }
n48=        if %tipo == substitute { if $xxxtok($replace($strip($2),$chr(32),-),%pla) < 2 { poke $+ %pla $+ ataque substitute } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n49=        if %tipo == recover { if $xxxtok($strip($2),%pla) < 2 { poke $+ %pla $+ status recover } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n50=        if %tipo == semefeito { poke $+ %pla $+ passar }
n51=        if %tipo == poison-sting { poke $+ %pla $+ ataque sting }
n52=        if %tipo == tranform { poke $+ %pla $+ ataque tranform }
n53=        if %tipo == mist { poke $+ %pla $+ ataque mist }
n54=        if %tipo == haze { poke $+ %pla $+ ataque haze }
n55=        if %tipo == leech-seed { if $xxxtok($strip($2),%pla) < 2 { poke $+ %opon $+ status seed } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n56=        if %tipo == bide { poke $+ %pla $+ ataque bide }
n57=        if %tipo == toxic { poke $+ %opon $+ status toxic }
n58=        if %tipo == disable { if $xxxtok($strip($2),%pla) < 2 { poke $+ %opon $+ status disable } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n59=        if %tipo == pay-day { set %xpayday [ $+ [ %pla ] ] x | poke $+ %pla $+ ataque especial }
n60=        if %tipo == explosion { set %perder [ $+ [ %pla ] ] sim | poke $+ %pla $+ ataque superefetivo }
n61=        if %tipo == self-destruct { set %perder [ $+ [ %pla ] ] sim | poke $+ %pla $+ ataque efetivo }
n62=        if %tipo == skull-bash { if %skbash [ $+ [ %pla ] ] == $null { set %skbash [ $+ [ %pla ] ] sim | poke $+ %pla $+ status def+ } | else { unset %skbash [ $+ [ %pla ] ] | poke $+ %pla $+ ataque comum } }
n63=        if %tipo == sono { if $xxxtok($strip($2),%pla) < 4 { poke $+ %opon $+ status sono } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n64=        if %tipo == paralizar { poke $+ %opon $+ status paralizar }
n65=        if %tipo == confundir { poke $+ %opon $+ status confundir }
n66=        if %tipo == sugarvidasuave { poke $+ %pla $+ ataque suga1 }
n67=        if %tipo == sugarvidafraco { poke $+ %pla $+ ataque suga2 }
n68=        if %tipo == sugarvidamédio { poke $+ %pla $+ ataque suga2 }
n69=        if %tipo == sugarvidaforte { poke $+ %pla $+ ataque suga3 }
n70=        if %tipo == carregavelfraco { poke $+ %pla $+ ataque charge1 }
n71=        if %tipo == carregavelmédio { poke $+ %pla $+ ataque charge2 }
n72=        if %tipo == carregavelforte { poke $+ %pla $+ ataque charge3 }
n73=        if %tipo == carregavel+forte { poke $+ %pla $+ ataque charge4 }
n74=        if %tipo == contínuoinefetivo { if $xxxtok($strip($2),%pla) < 4 { atacont $+ %pla inefetivo } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n75=        if %tipo == contínuofraco { if $xxxtok($strip($2),%pla) < 4 { atacont $+ %pla fraco } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n76=        if %tipo == contínuoforte { if $xxxtok($strip($2),%pla) < 4 { atacont $+ %pla forte } | else nc %chan %bah.nick Você não pode mais usar $strip($2-) | var %denied y | goto fim }
n77=        if %tipo == perde { sbp.fim Player $+ %opon }
n78=        if %tipo == mesmodooponente { if %tipo [ $+ [ %opon ] ] != $null && %tipo [ $+ [ %opon ] ] != MesmoDoOponente { var %tipo %tipo [ $+ [ %opon ] ] | goto inicio } | else nc %chan %bah.nick Você não pode usar $strip($2) agora! }
n79=        :fim
n80=        if %denied == y && %bah.nick == PkBR && %sbp.player [ $+ [ %opon ] ] == PkBR { if %sbp.player2 == PkBR { msg %chan $cor(1) $+ %poke2 $cor(3) $+ usou POF! | .timer 1 3 xatacar PkBR pof! } }
n81=      }
n82=      else nc %chan $nick Você não pode usar $strip(%bah.nick) $+ ...
n83=    }
n84=  }
n85=}
n86=alias xchecklevel {
n87=  if $1 == %sbp.player1 { var %lvl %poke1level | var %xlvl %poke2level }
n88=  elseif $1 == %sbp.player1 { var %lvl %poke2level | var %xlvl %poke1level }
n89=  if $calc(%xlvl - %lvl) > 5 { msg nc %chan $1 Voce não pode usar $2 | halt }
n90=  else return
n91=}
